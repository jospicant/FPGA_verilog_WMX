// Code generated by Icestudio 0.7.1w202109100309

`default_nettype none

//---- Top entity
module main (
 input v0ad875,
 input vc9473f,
 input vb3fec5,
 output vee2203,
 output vd2f6e2,
 output va9f689,
 output vdab4c1,
 output v09335b,
 output v8f209f,
 output v38d1bd,
 output v51df6a,
 output [0:7] vinit
);
 wire w0;
 wire w1;
 wire w2;
 wire w3;
 wire w4;
 wire w5;
 wire w6;
 wire w7;
 wire w8;
 wire w9;
 wire w10;
 assign w0 = vb3fec5;
 assign w1 = vc9473f;
 assign w2 = v0ad875;
 assign vee2203 = w3;
 assign vd2f6e2 = w4;
 assign va9f689 = w5;
 assign vdab4c1 = w6;
 assign v09335b = w7;
 assign v8f209f = w8;
 assign v38d1bd = w9;
 assign v51df6a = w10;
 main_v7153d7 v7153d7 (
  .clk(w0),
  .reset(w1),
  .count(w2),
  .Ch1(w3),
  .Ch2(w4),
  .Ch3(w5),
  .Ch4(w6),
  .Ch5(w7),
  .Ch6(w8),
  .Ch7(w9),
  .Ch8(w10)
 );
 assign vinit = 8'b00000000;
endmodule

/*-------------------------------------------------*/
/*-- C_Anillo >>   */
/*-- - - - - - - - - - - - - - - - - - - - - - - --*/
/*-- Contador en Anillo
/*-------------------------------------------------*/

module main_v7153d7 (
 input count,
 input reset,
 input clk,
 output Ch1,
 output Ch2,
 output Ch3,
 output Ch4,
 output Ch5,
 output Ch6,
 output Ch7,
 output Ch8
);
 
 
 reg[7:0] Q=0;  // inicio a 0
 reg[2:0] n=0;  
 
 always @(posedge clk or posedge reset)
 begin
 if(reset)begin
   Q<=0; n<=0;
 end
 else
    begin
      if(count)
       begin
        if( n==0 ) begin
          Q<={1'b1,Q[7:1]}; //introduzco un 1 por la izq
          n<= n + 1;
         end
         else begin
          Q<={1'b0,Q[7:1]}; //introduzco un 0 y se irÃ¡ desplazando el 1 metido
          n<=n+1;
         end
       end
      else Q<=Q; 
     end
 end
 
 
 assign {Ch8,Ch7,Ch6,Ch5,Ch4,Ch3,Ch2,Ch1} = Q;
 
endmodule
